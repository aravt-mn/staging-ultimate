<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="11/10/2013"
  DTS:CreationName="Microsoft.Package"
  DTS:CreatorComputerName="Tulga-PC"
  DTS:CreatorName="Tulga"
  DTS:DTSID="{B7E0925C-9C0B-4D8D-821F-9A37D59CA00D}"
  DTS:ExecutableType="Microsoft.Package"
  DTS:LastModifiedProductVersion="15.0.2000.123"
  DTS:LocaleID="3081"
  DTS:MaxErrorCount="1000"
  DTS:ObjectName="Master_Staging_SAC"
  DTS:PackageType="5"
  DTS:ProtectionLevel="0"
  DTS:VersionBuild="194"
  DTS:VersionComments="example package"
  DTS:VersionGUID="{28B9FE75-1B47-42FA-A119-BB249B520408}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:Variables>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{3C22F06A-3B42-43DD-A390-1289214B92ED}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="ACTIVE_DATABASE_SERVER">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{4576C66A-FEB8-4D32-A1C4-56349B5E81F3}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="BATCH_LOG_ID">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{F2697941-73D7-4C18-BCCB-047DCAD8C93E}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="@[System::PackageName]"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="BATCH_NAME">
      <DTS:VariableValue
        DTS:DataType="8">Master_Staging_SAC</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{8FF2120B-3BB2-43E1-B512-A70D2B42E172}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="COMPARISON_DATABASE_SERVER">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{E13D056D-AF3E-4E1E-B0D1-043DF099D947}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="CONNECTION_STRING">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{7FCC1E26-65EB-40E5-9859-871AB8764847}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_FAILED_COUNT">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{54EB064B-0F80-4492-AB7B-B8E4F3003693}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULES">
      <DTS:VariableValue
        DTS:DataSubType="ManagedSerializable"
        DTS:DataType="13">
        <SOAP-ENV:Envelope xmlns:clr="http://schemas.microsoft.com/soap/encoding/clr/1.0" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
          <SOAP-ENV:Body>
            <xsd:anyType
              id="ref-1"></xsd:anyType>
          </SOAP-ENV:Body>
        </SOAP-ENV:Envelope>
      </DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{73AA57FE-4158-4657-AB85-C28E1779ECF6}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULE_ID">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{A21A892B-7880-41E4-A245-17FA1DB2E6DA}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULE_NAME">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{EB72D657-C25B-4B59-B1B1-0334508D1A59}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULE_QUERY">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{D378E528-9CE8-456F-A4D3-DE3BE060C3B5}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULE_RESULT">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{F03701F9-FD2D-4E53-A63F-118F568EE1E4}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULE_RUN_ID">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{B5C8A8B0-25E0-41D3-8991-0686E7D9D3F2}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_RULE_TYPE">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{51944ABF-2568-4411-84E8-CF7FFF2221BA}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DATA_VALIDATION_SOURCE_BATCH">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{61311A0A-8910-4691-8000-1F566E9752B8}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="DEFAULT_DATETIME">
      <DTS:VariableValue
        DTS:DataType="7">12:00:00 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{15420F29-8806-4AC7-BAD9-F55E3F7C1401}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DIRECTORY_PATH">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{5C0D8EE1-FB6A-41B5-B3B9-50BED644F54E}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="EMAIL_ADDRESS">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{30CDCA74-2364-45D0-B09A-BA6EA6013C39}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="EXTRACT_DAYS">
      <DTS:VariableValue
        DTS:DataType="20">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{301CC3D1-BF8D-4042-BE7F-27486094A60C}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="HI_DATETIME">
      <DTS:VariableValue
        DTS:DataType="7">12/31/9000</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{5FB974C7-3B40-44C8-B706-64A80DAF0E86}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="LAST_LOAD_DATETIME">
      <DTS:VariableValue
        DTS:DataType="7">1/1/2018</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{CCD91234-BB98-45A2-AA0D-E34697207EBA}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="LOAD_DATETIME">
      <DTS:VariableValue
        DTS:DataType="7">1/1/1900</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{0BB370E8-8D19-4C31-B3F0-CDFD8B042BCF}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="LO_DATETIME">
      <DTS:VariableValue
        DTS:DataType="7">1/1/1900</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{17A1A443-6ACB-47F7-9504-D5D4257F0C45}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="PARALLEL_PROCESSES">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{FBC0C959-BDEA-4C1D-8805-B3E0D3208BFD}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="PRIORITY_GROUP">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{A9E85699-975F-4EE7-BC70-6C1BA3BAE986}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="PROCESS_BATCH_INDICATOR">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
  </DTS:Variables>
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\FEL_Test"
      DTS:CreationName="STOCK:FOREACHLOOP"
      DTS:Description="Foreach Loop Container"
      DTS:DTSID="{5FFA3E38-7D07-4D4C-97CB-4183E3C59709}"
      DTS:ExecutableType="STOCK:FOREACHLOOP"
      DTS:LocaleID="-1"
      DTS:ObjectName="FEL_Test">
      <DTS:ForEachEnumerator
        DTS:CreationName="Microsoft.ForEachADOEnumerator"
        DTS:DTSID="{EE0692EF-2705-4378-B955-09DA93681EE7}"
        DTS:ObjectName="{EE0692EF-2705-4378-B955-09DA93681EE7}">
        <DTS:ObjectData>
          <FEEADO
            EnumType="EnumerateRowsInFirstTable"
            VarName="User::DATA_VALIDATION_RULES" />
        </DTS:ObjectData>
      </DTS:ForEachEnumerator>
      <DTS:Variables />
      <DTS:Executables>
        <DTS:Executable
          DTS:refId="Package\FEL_Test\TSK_EST_DV_Begin"
          DTS:CreationName="Microsoft.ExecuteSQLTask"
          DTS:Description="Execute SQL Task"
          DTS:DTSID="{1BFFF1C1-7C5F-4369-9E48-92253D48DF38}"
          DTS:ExecutableType="Microsoft.ExecuteSQLTask"
          DTS:LocaleID="-1"
          DTS:ObjectName="TSK_EST_DV_Begin"
          DTS:ThreadHint="0">
          <DTS:Variables />
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
              SQLTask:SqlStatementSource="INSERT INTO [dbo].[DataValidationResults]([RULE_ID],[RULE_TYPE],[RULE_NAME],[RULE_SOURCE_BATCH],RULE_START_DATETIME,[RULE_RUN_STATUS],[BATCH_LOG_ID],[LOAD_DATETIME])&#xA;VALUES(?,?,?,?,sysdatetime(),'Started',?,?)&#xA;&#xA;SELECT SCOPE_IDENTITY() AS RULE_RUN_ID;"
              SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
              <SQLTask:ResultBinding
                SQLTask:ResultName="0"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_RUN_ID" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="0"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_ID"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="3"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="1"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_TYPE"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="129"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="2"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_NAME"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="129"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="3"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_SOURCE_BATCH"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="129"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="4"
                SQLTask:DtsVariableName="User::BATCH_LOG_ID"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="3"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="5"
                SQLTask:DtsVariableName="User::LOAD_DATETIME"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="7"
                SQLTask:ParameterSize="-1" />
            </SQLTask:SqlTaskData>
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\FEL_Test\TSK_EST_DV_End"
          DTS:CreationName="Microsoft.ExecuteSQLTask"
          DTS:Description="Execute SQL Task"
          DTS:DTSID="{B3B467A8-7B9F-43D0-9EF0-CE4226DD8E2E}"
          DTS:ExecutableType="Microsoft.ExecuteSQLTask"
          DTS:LocaleID="-1"
          DTS:ObjectName="TSK_EST_DV_End"
          DTS:ThreadHint="0">
          <DTS:Variables />
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
              SQLTask:SqlStatementSource="UPDATE [dbo].[DataValidationResults]&#xA;SET&#x9;&#xA;&#x9;[RULE_RUN_STATUS] = 'Finished'&#xA;,&#x9;RULE_END_DATETIME = SYSDATETIME()&#xA;,&#x9;RULE_RESULT = case when ? = 0 then 'Passed' else 'Failed' end&#xA;,&#x9;RULE_RESULT_FAILED_COUNT = ?&#xA;where RULE_RUN_ID = ?" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="0"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_RESULT"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="3"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="2"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_RUN_ID"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="3"
                SQLTask:ParameterSize="-1" />
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="1"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_RESULT"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="3"
                SQLTask:ParameterSize="-1" />
            </SQLTask:SqlTaskData>
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\FEL_Test\TSK_EST_Run_DV_Rule"
          DTS:CreationName="Microsoft.ExecuteSQLTask"
          DTS:Description="Execute SQL Task"
          DTS:DTSID="{2F391411-A852-4CC9-9CC1-5875B14F9604}"
          DTS:ExecutableType="Microsoft.ExecuteSQLTask"
          DTS:LocaleID="-1"
          DTS:ObjectName="TSK_EST_Run_DV_Rule"
          DTS:ThreadHint="0">
          <DTS:Variables />
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
              SQLTask:SqlStmtSourceType="Variable"
              SQLTask:SqlStatementSource="User::DATA_VALIDATION_RULE_QUERY"
              SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
              <SQLTask:ResultBinding
                SQLTask:ResultName="0"
                SQLTask:DtsVariableName="User::DATA_VALIDATION_RULE_RESULT" />
            </SQLTask:SqlTaskData>
          </DTS:ObjectData>
        </DTS:Executable>
      </DTS:Executables>
      <DTS:PrecedenceConstraints>
        <DTS:PrecedenceConstraint
          DTS:refId="Package\FEL_Test.PrecedenceConstraints[Constraint]"
          DTS:CreationName=""
          DTS:DTSID="{E4C3FDF3-3AAE-4E84-8DFB-07A008CF362C}"
          DTS:From="Package\FEL_Test\TSK_EST_DV_Begin"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Constraint"
          DTS:To="Package\FEL_Test\TSK_EST_Run_DV_Rule" />
        <DTS:PrecedenceConstraint
          DTS:refId="Package\FEL_Test.PrecedenceConstraints[Constraint 1]"
          DTS:CreationName=""
          DTS:DTSID="{9A1AC260-F53D-41DE-AB6F-CFAF9327439E}"
          DTS:From="Package\FEL_Test\TSK_EST_Run_DV_Rule"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Constraint 1"
          DTS:To="Package\FEL_Test\TSK_EST_DV_End" />
      </DTS:PrecedenceConstraints>
      <DTS:ForEachVariableMappings>
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{64D04FF3-E4E4-439D-A47C-A121A34A88D6}"
          DTS:ObjectName="{64D04FF3-E4E4-439D-A47C-A121A34A88D6}"
          DTS:ValueIndex="0"
          DTS:VariableName="User::DATA_VALIDATION_RULE_ID" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{22E7924C-14AF-4213-B85F-FB8E74537C1F}"
          DTS:ObjectName="{22E7924C-14AF-4213-B85F-FB8E74537C1F}"
          DTS:ValueIndex="1"
          DTS:VariableName="User::DATA_VALIDATION_RULE_TYPE" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{51CA73F8-8D2B-4FF0-993E-82DE10E356C6}"
          DTS:ObjectName="{51CA73F8-8D2B-4FF0-993E-82DE10E356C6}"
          DTS:ValueIndex="2"
          DTS:VariableName="User::DATA_VALIDATION_RULE_NAME" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{68D04CDA-04D8-4E36-A872-F39BB430F7A1}"
          DTS:ObjectName="{68D04CDA-04D8-4E36-A872-F39BB430F7A1}"
          DTS:ValueIndex="3"
          DTS:VariableName="User::DATA_VALIDATION_SOURCE_BATCH" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{403917CD-61E9-43DA-9DC5-654AB67EEAC5}"
          DTS:ObjectName="{403917CD-61E9-43DA-9DC5-654AB67EEAC5}"
          DTS:ValueIndex="4"
          DTS:VariableName="User::DATA_VALIDATION_RULE_QUERY" />
      </DTS:ForEachVariableMappings>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EPKG_QueueProcessing"
      DTS:CreationName="Microsoft.ExecutePackageTask"
      DTS:Description="Execute Package Task"
      DTS:DTSID="{CBB1C1C4-7E56-42ED-8210-91A2A4E743A0}"
      DTS:ExecutableType="Microsoft.ExecutePackageTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EPKG_QueueProcessing"
      DTS:TaskContact="Microsoft Corporation; Microsoft SQL Server; Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <ExecutePackageTask>
          <UseProjectReference>True</UseProjectReference>
          <PackageName>QueueProcessingPackage.dtsx</PackageName>
        </ExecutePackageTask>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Audit_Begin"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:DTSID="{4AE9C61C-9A85-4FB9-A2D0-C615DB4A3CC0}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Audit_Begin"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="INSERT INTO [dbo].[BatchLog] (BATCH_NAME,  LOAD_START_DATETIME, LOAD_DATETIME, LOAD_STATUS) VALUES ( ?, ?, ?, 'Started');&#xA;SELECT SCOPE_IDENTITY() AS LastLogId;&#xA;     "
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::BATCH_LOG_ID" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="1"
            SQLTask:DtsVariableName="System::StartTime"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="7"
            SQLTask:ParameterSize="-1" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="2"
            SQLTask:DtsVariableName="User::LOAD_DATETIME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="7"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Audit_End"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:DTSID="{7E06C01E-020C-4891-A31B-C3760EB9BDB7}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Audit_End"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="2">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="UPDATE [dbo].[BatchLog] &#xA;           SET LOAD_END_DATETIME = SYSDATETIME(), &#xA;               LOAD_STATUS =  &#xA;&#x9;&#x9;&#x9;   CASE WHEN ((select COUNT(1) from [dbo].[PackageQueue] where batch_name = ?) +&#xA;&#x9;&#x9;&#x9;   (select count(1) from [dbo].[PackageLog] where load_status&lt;&gt;'Finished' and batch_log_id = ?) &gt; 0) THEN 'Failed'  &#xA;&#x9;&#x9;&#x9;   WHEN LOAD_STATUS = 'Started' THEN 'Finished'  &#xA;&#x9;&#x9;&#x9;   ELSE LOAD_STATUS END &#xA;         WHERE BATCH_LOG_ID = ?;" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="1"
            SQLTask:DtsVariableName="User::BATCH_LOG_ID"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="3"
            SQLTask:ParameterSize="-1" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="2"
            SQLTask:DtsVariableName="User::BATCH_LOG_ID"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="3"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Audit_End_Aborted"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:DTSID="{2379E230-EAA8-47B4-93C9-70E49554224E}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Audit_End_Aborted"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="1">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="UPDATE [dbo].[BatchLog] SET LOAD_END_DATETIME = SYSDATETIME(), LOAD_STATUS = 'Aborted' WHERE BATCH_LOG_ID = ?;" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_LOG_ID"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="3"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Check_DV_Status"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{72CC5240-7461-4270-BE91-9B5BAE640583}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Check_DV_Status"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="select&#xA;&#x9;SUM(RULE_RESULT_FAILED_COUNT)&#xA;from [dbo].[DataValidationResults]&#xA;where&#xA;&#x9;[BATCH_LOG_ID] = ?"
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::DATA_VALIDATION_FAILED_COUNT" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_LOG_ID"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="3"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Check_Prev_Load"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{F59262B8-1680-46F1-BED5-82AC22CB41E6}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Check_Prev_Load"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="SELECT CASE WHEN BatchLog.[LOAD_STATUS] = 'Finished' THEN GETDATE() &#xA;ELSE COALESCE(LOAD_DATETIME, SYSDATETIME()) END AS LOAD_DATETIME&#xA;  FROM [dbo].[BatchData] Batch&#xA;  LEFT JOIN &#xA;(SELECT BL.BATCH_NAME, BL.LOAD_STATUS, BL.LOAD_DATETIME FROM [dbo].[BatchLog] BL&#xA;            INNER JOIN (SELECT BATCH_NAME, MAX(BATCH_LOG_ID) MAX_BATCH_LOG_ID FROM [dbo].[BatchLog] GROUP BY BATCH_NAME) MaxBatchLog&#xA;            ON BL.BATCH_LOG_ID = MaxBatchLog.MAX_BATCH_LOG_ID&#xA;  ) BatchLog&#xA;  ON BatchLog.BATCH_NAME = Batch.BATCH_NAME&#xA;  WHERE Batch.BATCH_ACTIVE = 1&#xA;  AND Batch.BATCH_NAME = ?&#xA;"
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::LOAD_DATETIME" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Get_DV_Rules"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{D463833C-19B7-41E8-B571-951DE9C49994}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Get_DV_Rules"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="select&#xA;&#x9;RULE_ID&#xA;,&#x9;RULE_TYPE&#xA;,&#x9;RULE_NAME&#xA;,&#x9;RULE_SOURCE_BATCH&#xA;,&#x9;SQL_QUERY&#xA;from [dbo].[DataValidationRules]&#xA;where&#xA;&#x9;RULE_TYPE = ''&#xA;and RULE_SOURCE_BATCH = ?&#xA;and RULE_ACTIVE = 1"
          SQLTask:ResultType="ResultSetType_Rowset" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::DATA_VALIDATION_RULES" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_GET_PARAMETERS"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{4419E81C-6B86-4D31-9303-2DA7E1B6409E}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_GET_PARAMETERS"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="2">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="SELECT SOURCE_CONNECTION_STRING, PARALLEL_PROCESSES, ACTIVE_DATABASE_SERVER, COMPARISON_DATABASE_SERVER, FAILURE_EMAIL_ADDRESS FROM [dbo].[BatchData] WHERE BATCH_NAME = ?;&#xA;     "
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::CONNECTION_STRING" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="1"
            SQLTask:DtsVariableName="User::PARALLEL_PROCESSES" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="2"
            SQLTask:DtsVariableName="User::ACTIVE_DATABASE_SERVER" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="3"
            SQLTask:DtsVariableName="User::COMPARISON_DATABASE_SERVER" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="4"
            SQLTask:DtsVariableName="User::EMAIL_ADDRESS" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Lookup_Process_Batch_Indicator"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{CB8885EB-228A-4919-8489-5A5D32EFB84C}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Lookup_Process_Batch_Indicator"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="select PROCESS_BATCH_INDICATOR&#xA;FROM [dbo].[BatchData] &#xA;WHERE BATCH_NAME = ?;"
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::PROCESS_BATCH_INDICATOR" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\TSK_EST_Set_Process_Batch_Indicator"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{15B25665-B958-4033-9DE1-18BBC705AC63}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="TSK_EST_Set_Process_Batch_Indicator"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
          SQLTask:SqlStatementSource="update [dbo].[BatchData]&#xA;set PROCESS_BATCH_INDICATOR = 0&#xA;where BATCH_NAME = ?" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::BATCH_NAME"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="129"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint]"
      DTS:CreationName=""
      DTS:DTSID="{6AD14281-BD14-4394-B48F-312DF336B4A7}"
      DTS:From="Package\TSK_EST_GET_PARAMETERS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint"
      DTS:To="Package\TSK_EPKG_QueueProcessing" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 1]"
      DTS:CreationName=""
      DTS:DTSID="{B45B7940-0FD2-4E8A-A09B-9AAF4472D23D}"
      DTS:From="Package\TSK_EPKG_QueueProcessing"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 1"
      DTS:To="Package\TSK_EST_Audit_End" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 12]"
      DTS:CreationName=""
      DTS:DTSID="{0100E797-9B44-46D9-A815-640E6ED54BC3}"
      DTS:Expression="@[User::LAST_EXECUTION_STATUS]!=&quot;Started&quot;"
      DTS:From="Package\TSK_EST_Check_Prev_Load"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 12"
      DTS:To="Package\TSK_EST_Audit_Begin" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 2]"
      DTS:CreationName=""
      DTS:DTSID="{B68C09F1-2ABC-4A36-8644-47A688C637ED}"
      DTS:From="Package\TSK_EST_Audit_Begin"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 2"
      DTS:To="Package\TSK_EST_Lookup_Process_Batch_Indicator" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 3]"
      DTS:CreationName=""
      DTS:DTSID="{9FF5DE67-9068-40BD-8AB6-79AD0C0F51F2}"
      DTS:EvalOp="3"
      DTS:Expression="@[User::PROCESS_BATCH_INDICATOR] == 1"
      DTS:From="Package\TSK_EST_Lookup_Process_Batch_Indicator"
      DTS:ObjectName="Constraint 3"
      DTS:To="Package\TSK_EST_Get_DV_Rules" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 4]"
      DTS:CreationName=""
      DTS:DTSID="{4589F71B-71E9-4D21-BF38-E0131B21AE81}"
      DTS:EvalOp="3"
      DTS:Expression="@[User::PROCESS_BATCH_INDICATOR] == 0"
      DTS:From="Package\TSK_EST_Lookup_Process_Batch_Indicator"
      DTS:ObjectName="Constraint 4"
      DTS:To="Package\TSK_EST_Audit_End_Aborted" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 5]"
      DTS:CreationName=""
      DTS:DTSID="{B062B0F4-8AA8-4AA1-9CB2-DEDF66AE91E6}"
      DTS:EvalOp="3"
      DTS:Expression="@[User::DATA_VALIDATION_FAILED_COUNT] == 0"
      DTS:From="Package\TSK_EST_Check_DV_Status"
      DTS:ObjectName="Constraint 5"
      DTS:To="Package\TSK_EST_GET_PARAMETERS" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 6]"
      DTS:CreationName=""
      DTS:DTSID="{98C12F31-8128-483A-B9CC-D3833CFEEE0D}"
      DTS:EvalOp="3"
      DTS:Expression="@[User::DATA_VALIDATION_FAILED_COUNT]  &gt; 0"
      DTS:From="Package\TSK_EST_Check_DV_Status"
      DTS:ObjectName="Constraint 6"
      DTS:To="Package\TSK_EST_Set_Process_Batch_Indicator" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 7]"
      DTS:CreationName=""
      DTS:DTSID="{14536D7B-8EF7-4A71-BD30-4847FEB1ADF4}"
      DTS:From="Package\TSK_EST_Set_Process_Batch_Indicator"
      DTS:ObjectName="Constraint 7"
      DTS:To="Package\TSK_EST_Audit_End_Aborted" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 8]"
      DTS:CreationName=""
      DTS:DTSID="{270D754C-338D-4E68-8E46-B7C1CE1D9625}"
      DTS:From="Package\TSK_EST_Get_DV_Rules"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 8"
      DTS:To="Package\FEL_Test" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 9]"
      DTS:CreationName=""
      DTS:DTSID="{A82AD31E-612B-40B9-B5F1-1EEC91060165}"
      DTS:From="Package\FEL_Test"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 9"
      DTS:To="Package\TSK_EST_Check_DV_Status" />
  </DTS:PrecedenceConstraints>
  <DTS:EventHandlers>
    <DTS:EventHandler
      DTS:refId="Package.EventHandlers[OnError]"
      DTS:CreationName="OnError"
      DTS:DTSID="{D964DB00-49BB-4C4D-B602-04A1EC417588}"
      DTS:EventID="322332116"
      DTS:EventName="OnError"
      DTS:LocaleID="-1">
      <DTS:Variables>
        <DTS:Variable
          DTS:CreationName=""
          DTS:Description="The propagate property of the event"
          DTS:DTSID="{99717B64-5289-424E-B3DE-0927B65B8ADA}"
          DTS:IncludeInDebugDump="6789"
          DTS:Namespace="System"
          DTS:ObjectName="Propagate">
          <DTS:VariableValue
            DTS:DataType="11">-1</DTS:VariableValue>
        </DTS:Variable>
      </DTS:Variables>
      <DTS:Executables>
        <DTS:Executable
          DTS:refId="Package.EventHandlers[OnError]\EST_OnErrorLog"
          DTS:CreationName="Microsoft.ExecuteSQLTask"
          DTS:DTSID="{0BC0DCD1-834F-4F15-9382-90800D0442A1}"
          DTS:ExecutableType="Microsoft.ExecuteSQLTask"
          DTS:LocaleID="-1"
          DTS:ObjectName="EST_OnErrorLog"
          DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
          <DTS:Variables />
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{97E141F0-733A-4413-8114-D9A19CB873AA}"
              SQLTask:SqlStatementSource="UPDATE [dbo].[BatchLog] SET LOAD_END_DATETIME = SYSDATETIME(), LOAD_STATUS = 'Failed' WHERE BATCH_LOG_ID = ?;" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
              <SQLTask:ParameterBinding
                SQLTask:ParameterName="0"
                SQLTask:DtsVariableName="User::BATCH_LOG_ID"
                SQLTask:ParameterDirection="Input"
                SQLTask:DataType="3"
                SQLTask:ParameterSize="-1" />
            </SQLTask:SqlTaskData>
          </DTS:ObjectData>
        </DTS:Executable>
      </DTS:Executables>
    </DTS:EventHandler>
  </DTS:EventHandlers>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="8">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="32" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="172,41.6"
          Id="Package\FEL_Test\TSK_EST_DV_Begin"
          TopLeft="15.1,5.49999999999995" />
        <NodeLayout
          Size="164,41.6"
          Id="Package\FEL_Test\TSK_EST_DV_End"
          TopLeft="19.1,208.7" />
        <NodeLayout
          Size="191.2,41.6"
          Id="Package\FEL_Test\TSK_EST_Run_DV_Rule"
          TopLeft="5.50000000000003,107.1" />
        <EdgeLayout
          Id="Package\FEL_Test.PrecedenceConstraints[Constraint]"
          TopLeft="101.1,47.1">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,59.9999999999999"
              Start="0,0"
              End="0,52.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\FEL_Test.PrecedenceConstraints[Constraint 1]"
          TopLeft="101.1,148.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,59.9999999999999"
              Start="0,0"
              End="0,52.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="201.6,305.6"
          Size="201.6,348.8"
          Id="Package\FEL_Test"
          TopLeft="207.5,411.9" />
        <NodeLayout
          Size="215.2,41.6"
          Id="Package\TSK_EPKG_QueueProcessing"
          TopLeft="533.1,1023.9" />
        <NodeLayout
          Size="183.2,41.6"
          Id="Package\TSK_EST_Audit_Begin"
          TopLeft="55.1000000000001,107.1" />
        <NodeLayout
          Size="176.8,41.6"
          Id="Package\TSK_EST_Audit_End"
          TopLeft="552.3,1125.5" />
        <NodeLayout
          Size="217.6,41.6"
          Id="Package\TSK_EST_Audit_End_Aborted"
          TopLeft="37.9000000000002,1023.9" />
        <NodeLayout
          Size="209.6,41.6"
          Id="Package\TSK_EST_Check_DV_Status"
          TopLeft="233.9,819.7" />
        <NodeLayout
          Size="209.6,41.6"
          Id="Package\TSK_EST_Check_Prev_Load"
          TopLeft="41.9,5.49999999999995" />
        <NodeLayout
          Size="193.6,41.6"
          Id="Package\TSK_EST_Get_DV_Rules"
          TopLeft="207.9,310.3" />
        <NodeLayout
          Size="216.8,41.6"
          Id="Package\TSK_EST_GET_PARAMETERS"
          TopLeft="529.4428570942,923.829411786155" />
        <NodeLayout
          Size="281.6,41.6"
          Id="Package\TSK_EST_Lookup_Process_Batch_Indicator"
          TopLeft="5.50000000000011,208.7" />
        <NodeLayout
          Size="263.2,41.6"
          Id="Package\TSK_EST_Set_Process_Batch_Indicator"
          TopLeft="208.1,922.3" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint]"
          TopLeft="639.2714285471,965.429411786155">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,58.4705882138447"
              Start="0,0"
              End="0,50.9705882138447">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,50.9705882138447" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 1]"
          TopLeft="640.7,1065.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 12]"
          TopLeft="146.7,47.1">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,59.9999999999999"
              Start="0,0"
              End="0,52.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 2]"
          TopLeft="146.7,148.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,59.9999999999999"
              Start="0,0"
              End="0,52.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 3]"
          TopLeft="192.433333333333,250.3">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="112.266666666667,59.9999999999999"
              Start="0,0"
              End="112.266666666667,52.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,20.2028169014084" />
                  <mssgle:CubicBezierSegment
                    Point1="0,20.2028169014084"
                    Point2="0,24.2028169014084"
                    Point3="4,24.2028169014084" />
                  <mssgle:LineSegment
                    End="108.266666666667,24.2028169014084" />
                  <mssgle:CubicBezierSegment
                    Point1="108.266666666667,24.2028169014084"
                    Point2="112.266666666667,24.2028169014084"
                    Point3="112.266666666667,28.2028169014084" />
                  <mssgle:LineSegment
                    End="112.266666666667,52.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="48.1333333333335,29.2028169014084,16,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 4]"
          TopLeft="100.966666666667,250.3">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="10.8000000000001,773.600000000001"
              Start="0,0"
              End="10.8000000000001,766.100000000001">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,381.997292436346" />
                  <mssgle:CubicBezierSegment
                    Point1="0,381.997292436346"
                    Point2="0,385.997292436346"
                    Point3="4,385.997292436346" />
                  <mssgle:LineSegment
                    End="6.80000000000011,385.997292436346" />
                  <mssgle:CubicBezierSegment
                    Point1="6.80000000000011,385.997292436346"
                    Point2="10.8000000000001,385.997292436346"
                    Point3="10.8000000000001,389.997292436346" />
                  <mssgle:LineSegment
                    End="10.8000000000001,766.100000000001" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="-2.59999999999994,390.997292436346,16,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 5]"
          TopLeft="372.566666666667,861.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="265.376190427533,62.1294117861549"
              Start="0,0"
              End="265.376190427533,54.6294117861549">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,21.1336372821118" />
                  <mssgle:CubicBezierSegment
                    Point1="0,21.1336372821118"
                    Point2="0,25.1336372821118"
                    Point3="4,25.1336372821118" />
                  <mssgle:LineSegment
                    End="261.376190427533,25.1336372821118" />
                  <mssgle:CubicBezierSegment
                    Point1="261.376190427533,25.1336372821118"
                    Point2="265.376190427533,25.1336372821118"
                    Point3="265.376190427533,29.1336372821118" />
                  <mssgle:LineSegment
                    End="265.376190427533,54.6294117861549" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="124.688095213767,30.1336372821118,16,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 6]"
          TopLeft="305.233333333333,861.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="34.3666666666667,60.5999999999999"
              Start="0,0"
              End="34.3666666666667,53.0999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,20.5149338374291" />
                  <mssgle:CubicBezierSegment
                    Point1="0,20.5149338374291"
                    Point2="0,24.5149338374291"
                    Point3="4,24.5149338374291" />
                  <mssgle:LineSegment
                    End="30.3666666666667,24.5149338374291" />
                  <mssgle:CubicBezierSegment
                    Point1="30.3666666666667,24.5149338374291"
                    Point2="34.3666666666667,24.5149338374291"
                    Point3="34.3666666666667,28.5149338374291" />
                  <mssgle:LineSegment
                    End="34.3666666666667,53.0999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="9.18333333333335,29.5149338374291,16,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 7]"
          TopLeft="339.7,963.9">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-158.066666666667,60.0000000000002"
              Start="0,0"
              End="-158.066666666667,52.5000000000002">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,31.7372262773724" />
                  <mssgle:CubicBezierSegment
                    Point1="0,31.7372262773724"
                    Point2="0,35.7372262773724"
                    Point3="-4,35.7372262773724" />
                  <mssgle:LineSegment
                    End="-154.066666666667,35.7372262773724" />
                  <mssgle:CubicBezierSegment
                    Point1="-154.066666666667,35.7372262773724"
                    Point2="-158.066666666667,35.7372262773724"
                    Point3="-158.066666666667,39.7372262773724" />
                  <mssgle:LineSegment
                    End="-158.066666666667,52.5000000000002" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 8]"
          TopLeft="306.7,351.9">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60.0000000000001"
              Start="0,0"
              End="0,52.5000000000001">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5000000000001" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 9]"
          TopLeft="308.5,760.9">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="30.4,58.8000000000001"
              Start="0,0"
              End="30.4,51.3000000000001">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,25.4" />
                  <mssgle:CubicBezierSegment
                    Point1="0,25.4"
                    Point2="0,29.4"
                    Point3="4,29.4" />
                  <mssgle:LineSegment
                    End="26.4,29.4" />
                  <mssgle:CubicBezierSegment
                    Point1="26.4,29.4"
                    Point2="30.4,29.4"
                    Point3="30.4,33.4" />
                  <mssgle:LineSegment
                    End="30.4,51.3000000000001" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <AnnotationLayout
          Text="If PROCESS_BATCH_INDICATOR = 0&#xA;then already set to not run, skip abort checks&#xA;&#xA;If not, run the data validation rules&#xA;After running rules, check the result status&#xA;&#xA;If result status &gt; 0 then &#xA;set process batch indicator = 0 and abort&#xA;&#xA;Else execute queue as normal"
          ParentId="Package"
          FontInfo="{assembly:Null}"
          Size="267.2,184"
          Id="a0ef2530-44b6-420f-8ce0-0ecf53bf2c4d"
          TopLeft="486.031754308817,415.450982179609" />
        <AnnotationLayout
          Text="Change the RULE_TYPE in this query to suit"
          ParentId="Package"
          FontInfo="{assembly:Null}"
          Size="256,40"
          Id="5bc35121-1491-4d5a-ad98-daf5cb0625cc"
          TopLeft="442.285721817795,300.988239515364" />
      </GraphLayout>
    </LayoutInfo>
  </Package>
  <DtsEventHandler
    design-time-name="Package.EventHandlers[OnError]">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph">
        <NodeLayout
          Size="159,42"
          Id="Package.EventHandlers[OnError]\EST_OnErrorLog"
          TopLeft="5.5,5.5" />
      </GraphLayout>
    </LayoutInfo>
  </DtsEventHandler>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>